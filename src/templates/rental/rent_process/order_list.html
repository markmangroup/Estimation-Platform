{% load static %}
<link rel="stylesheet" href="https://cdn.dhtmlx.com/scheduler/edge/dhtmlxscheduler.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
<link rel="stylesheet" type="text/css" href="{% static 'vendors/css/datatables/dataTables.bootstrap4.min.css' %}" />


<!-- Wizard Starts For Order List-->
<section id="icon-tabs" class="tab-1">
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-header">
          <ul class="nav nav-tabs mb-2">
            <li class="nav-item">
              <a class="nav-link active" id="base-tab11" data-toggle="tab" aria-controls="tab1" href="#tab1"
                aria-expanded="true">Order</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="base-tab13" data-toggle="tab" aria-controls="tab3" href="#tab3"
                aria-expanded="false">Open Reccuring Order</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="base-tab12" data-toggle="tab" aria-controls="tab2" href="#tab2"
                aria-expanded="false">Open Return Order</a>
            </li>
          </ul>
        </div>
        <div class="tab-content">
          <div class="tab-pane active" id="tab1" aria-labelledby="base-tab11">
            <div class="card">
              <div class="card-content">
                <!-- Buttons -->
                <div class="float-left ml-4">
                  <data class="row">
                    <h4>Order</h4>
                  </data>
                </div>

                <div class="float-right mb-3">
                  <div class="row">
                    <!-- Import Order Starts -->
                     {% if user.is_superuser %}
                      <button type="button" class="btn bg-light-success ml-1" data-toggle="modal" data-target="#permissionModel"
                          hx-get="{% url 'rental:rent_process:order-permission' %}" hx-target="#permission-modal-content">
                          <i class="fa ft-plus-circle mr-1"></i>Permissions
                        </button>
                     {% endif %}

                    <button type="button" class="btn bg-light-secondary ml-1"
                      hx-get="{% url 'rental:rent_process:rental-import-order' %}" hx-target="#modalContent"
                      hx-trigger="click" data-toggle="modal" data-target="#inlineForm">
                      <i class="fa ft-briefcase mr-1"></i>Import Order
                    </button>

                    <button type="button" class="btn bg-light-primary ml-1" data-toggle="modal" data-target="#createOrder"
                      hx-get="{% url 'rental:rent_process:order-create' %}"
                      hx-target="#product-modal-content" >
                      <i class="fa ft-plus-circle mr-1"></i>Create Order
                    </button>
                    
                    <!-- permission model -->
                    <div class="float-right">
                      <div class="modal fade text-left" tabindex="-1" role="dialog" id="permissionModel" aria-labelledby="myModalLabel33" aria-hidden="true" data-backdrop="false">
                        <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h4 class="modal-title">Requiered Permissions</h4>
                              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true"><i class="ft-x font-medium-2 text-bold-700"></i></span>
                              </button>
                            </div>
                            <div class="modal-body" id="permission-modal-content">
                            </div>
                          
                          </div>
                        </div>
                      </div>
                    </div>
                     <!-- End Permission Model -->
                    <!-- create order model -->
                    <div class="card-header">
                      <div class="float-right">
                        <div class="modal fade text-left" tabindex="-1" role="dialog" id="createOrder" aria-labelledby="myModalLabel33" aria-hidden="true" data-backdrop="false">
                          <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
                            <div class="modal-content">
                              <div class="modal-header">
                                <h4 class="modal-title">Create Order</h4>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                  <span aria-hidden="true"><i class="ft-x font-medium-2 text-bold-700"></i></span>
                                </button>
                              </div>
                              <div class="modal-body" id="product-modal-content">
                              </div>
                            
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- end create order model -->

                    <!-- Import Order Modal -->
                    <div class="modal fade text-left" id="inlineForm" tabindex="-1" role="dialog"
                      aria-labelledby="myModalLabel33" aria-hidden="true" data-backdrop="false">
                      <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="modal-content">
                          <div id="modalContent">
                            <!-- Form content will be dynamically inserted here by HTMX -->
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>  

                <!-- End Import Order Modal -->
                <!-- Buttons -->

                <div class="card-body">
                  <div class="table-responsive">
                    <table class="table table-striped table-bordered" id="order-list">
                      <thead>
                        <tr>
                          <th>Order ID</th>
                          <th>Delivery</th>
                          <th>Status</th>
                          <th>Customer</th>
                          <th>Order Amount</th> <!-- Added based on your request -->
                          <th>Project Manager</th>
                          <th>Start Date</th>
                          <th>End Date</th>
                          <th>RECCURENCE TYPE</th>
                          <th>Last Updated Date</th>
                          <th>Actions</th>
                        </tr>
                      </thead>
                      <tbody>

                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>

          {% include "rental/time_line.html" %}

          <div class="tab-pane" id="tab2" aria-labelledby="base-tab12">
            <div class="card">
              <div class="card-content">
                <div class="float-left ml-4">
                  <data class="row mb-2">
                    <h4>Return Order</h4>
                  </data>
                </div>
                <div class="card-body">
                  <div class="table-responsive">
                    <table class="table table-striped table-bordered zero-configuration">
                      <thead>
                        <tr>
                          <th>ORDER ID</th>
                          <th>DELIVERY ID</th>
                          <th>STATUS</th>
                          <th>CUSTOMER</th>
                          <th>PROJECT MANAGER</th>
                          <th>START DATE</th>
                          <th>END DATE</th>
                          <th>LAST UPDATED DATE</th>
                          <th>ACTIONS</th>
                          {% comment %} <th>Customer</th>
                          <th>Document Number</th>
                          <th>ID</th>
                          <th>Project Manager</th>
                          <th>Location</th>
                          <th>Start Date</th>
                          <th>End Date</th>
                          <th>Rental Recurrence</th>
                          <th>Billing Schedule</th>
                          <th>Rental Type</th>
                          <th>Region</th>
                          <th>Actions</th> {% endcomment %}
                        </tr>
                      </thead>
                      <tbody>

                        <!-- Row 1 -->
                        <tr>
                          <td class="text-nowrap"><a href="{% url 'rental:order_detail' %}">OR20240600020</a></td>
                          <td class="text-nowrap">DEL67890</td>
                          <td class="text-left">
                            <span class="badge bg-light-info">Pick Up</span>
                          </td>
                          <td class="text-nowrap">Jane Doe</td>
                          <td class="text-nowrap">John Smith</td>
                          <td class="text-nowrap">01/01/2024</td>
                          <td class="text-nowrap">01/15/2024</td>
                          <td class="text-nowrap">01/10/2024</td>
                          <td class="text-nowrap">

                              <a href="" class="success" data-toggle="modal" data-target="#update_return_order">
                                  <i class="ft-edit font-medium-3 mr-2"></i>
                              </a>
                              <a class="warning" href="{% url 'rental:order_detail' %}">
                                  <i class="ft-truck font-medium-3 mr-2"></i>
                              </a>
                              <a href="" class="success" data-toggle="modal" data-target="#TimeLine">
                                  <i class="ft-bar-chart font-medium-3 mr-2"></i>
                              </a>
                          </td>
                        </tr>
                      
                        <!-- Row 2 -->
                        <tr>
                          <td class="text-nowrap"><a href="{% url 'rental:order_detail' %}">OR20240600021</a></td>
                          <td class="text-nowrap">DEL67891</td>
                          <td class="text-left">
                            <span class="badge bg-light-danger">Check out</span>
                          </td>
                          <td class="text-nowrap">Alan Brown</td>
                          <td class="text-nowrap">Emily Davis</td>
                          <td class="text-nowrap">01/05/2024</td>
                          <td class="text-nowrap">01/20/2024</td>
                          <td class="text-nowrap">01/15/2024</td>
                            <td class="text-nowrap">
                              <a href="" class="success" data-toggle="modal" data-target="#update_return_order">
                                <i class="ft-edit font-medium-3 mr-2"></i>
                            </a>
                                <a class="warning" href="{% url 'rental:order_detail' %}">
                                    <i class="ft-truck font-medium-3 mr-2"></i>
                                </a>
                                <a href="" class="success" data-toggle="modal" data-target="#TimeLine">
                                    <i class="ft-bar-chart font-medium-3 mr-2"></i>
                                </a>
                            </td>
                        </tr>
                        
                        <!-- Row 5 -->
                        <tr>
                          <td class="text-nowrap"><a href="{% url 'rental:order_detail' %}">OR20240600022</a></td>
                          <td class="text-nowrap">DEL67892</td>
                          <td class="text-left">
                            <span class="badge bg-light-primary">Inspection</span>
                          </td>
                          <td class="text-nowrap">Mary Johnson</td>
                          <td class="text-nowrap">Michael Wilson</td>
                          <td class="text-nowrap">01/10/2024</td>
                          <td class="text-nowrap">01/25/2024</td>
                          <td class="text-nowrap">01/22/2024</td>
                            <td class="text-nowrap">
                              <a href="" class="success" data-toggle="modal" data-target="#update_return_order">
                                <i class="ft-edit font-medium-3 mr-2"></i>
                            </a>
                                <a class="warning" href="{% url 'rental:order_detail' %}">
                                    <i class="ft-truck font-medium-3 mr-2"></i>
                                </a>
                                <a href="" class="success" data-toggle="modal" data-target="#TimeLine">
                                    <i class="ft-bar-chart font-medium-3 mr-2"></i>
                                </a>
                            </td>
                        </tr>
                        
                        <!-- Row 8 -->
                        <tr>
                          <td class="text-nowrap"><a href="{% url 'rental:order_detail' %}">OR20240600023</a></td>
                          <td class="text-nowrap">DEL67893</td>
                          <td class="text-left">
                            <span class="badge bg-light-danger">Check out</span>
                          </td>
                          <td class="text-nowrap">Robert Lee</td>
                          <td class="text-nowrap">Sarah Taylor</td>
                          <td class="text-nowrap">01/15/2024</td>
                          <td class="text-nowrap">01/30/2024</td>
                          <td class="text-nowrap">01/28/2024</td>
                            <td class="text-nowrap">
                              <a href="" class="success" data-toggle="modal" data-target="#update_return_order">
                                <i class="ft-edit font-medium-3 mr-2"></i>
                            </a>
                                <a class="warning" href="{% url 'rental:order_detail' %}">
                                    <i class="ft-truck font-medium-3 mr-2"></i>
                                </a>
                                <a href="" class="success" data-toggle="modal" data-target="#TimeLine">
                                    <i class="ft-bar-chart font-medium-3 mr-2"></i>
                                </a>
                            </td>
                        </tr>
                        
                        <!-- Row 14 -->
                        <tr>
                          <td class="text-nowrap"><a href="{% url 'rental:order_detail' %}">OR20240600024</a></td>
                          <td class="text-nowrap">DEL67894</td>
                          <td class="text-left">
                            <span class="badge bg-light-primary">Inspection</span>
                          </td>
                          <td class="text-nowrap">Emily Clark</td>
                          <td class="text-nowrap">James Carter</td>
                          <td class="text-nowrap">01/20/2024</td>
                          <td class="text-nowrap">02/05/2024</td>
                          <td class="text-nowrap">01/25/2024</td>
                            <td class="text-nowrap">
                              <a href="" class="success" data-toggle="modal" data-target="#update_return_order">
                                <i class="ft-edit font-medium-3 mr-2"></i>
                            </a>
                                <a class="warning" href="{% url 'rental:order_detail' %}">
                                    <i class="ft-truck font-medium-3 mr-2"></i>
                                </a>
                                <a href="" class="success" data-toggle="modal" data-target="#TimeLine">
                                    <i class="ft-bar-chart font-medium-3 mr-2"></i>
                                </a>
                            </td>
                        </tr>
                        
                        <!-- Row 22 -->
                        <tr>
                          <td class="text-nowrap"><a href="{% url 'rental:order_detail' %}">OR20240600025</a></td>
                          <td class="text-nowrap">DEL67895</td>
                          <td class="text-left">
                            <span class="badge bg-light-info">Return Pick Up</span>
                          </td>
                          <td class="text-nowrap">Robert Wilson</td>
                          <td class="text-nowrap">Linda Scott</td>
                          <td class="text-nowrap">01/22/2024</td>
                          <td class="text-nowrap">02/10/2024</td>
                          <td class="text-nowrap">01/30/2024</td>
                            <td class="text-nowrap">
                              <a href="" class="success" data-toggle="modal" data-target="#update_return_order">
                                <i class="ft-edit font-medium-3 mr-2"></i>
                            </a>
                                <a class="warning" href="{% url 'rental:order_detail' %}">
                                    <i class="ft-truck font-medium-3 mr-2"></i>
                                </a>
                                <a href="" class="success" data-toggle="modal" data-target="#TimeLine">
                                    <i class="ft-bar-chart font-medium-3 mr-2"></i>
                                </a>
                            </td>
                        </tr>
                        
                        <!-- Row 45 -->
                        <tr>
                          <td class="text-nowrap"><a href="{% url 'rental:order_detail' %}">OR20240600026</a></td>
                          <td class="text-nowrap">DEL67896</td>
                          <td class="text-left">
                            <span class="badge bg-light-primary">Inspection</span>
                          </td>
                          <td class="text-nowrap">Susan Harris</td>
                          <td class="text-nowrap">Daniel Adams</td>
                          <td class="text-nowrap">01/25/2024</td>
                          <td class="text-nowrap">02/15/2024</td>
                          <td class="text-nowrap">02/01/2024</td>
                            <td class="text-nowrap">
                              <a href="" class="success" data-toggle="modal" data-target="#update_return_order">
                                <i class="ft-edit font-medium-3 mr-2"></i>
                            </a>
                                <a class="warning" href="{% url 'rental:order_detail' %}">
                                    <i class="ft-truck font-medium-3 mr-2"></i>
                                </a>
                                <a href="" class="success" data-toggle="modal" data-target="#TimeLine">
                                    <i class="ft-bar-chart font-medium-3 mr-2"></i>
                                </a>
                            </td>
                        </tr>
                        
                        <!-- Row 57 -->
                        <tr>
                          <td class="text-nowrap"><a href="{% url 'rental:order_detail' %}">OR20240600027</a></td>
                          <td class="text-nowrap">DEL67897</td>
                          <td class="text-left">
                            <span class="badge bg-light-warning">Create Return Delivery</span>
                          </td>
                          <td class="text-nowrap">William Robinson</td>
                          <td class="text-nowrap">Jessica Green</td>
                          <td class="text-nowrap">01/30/2024</td>
                          <td class="text-nowrap">02/20/2024</td>
                          <td class="text-nowrap">02/05/2024</td>
                            <td class="text-nowrap">
                              <a href="" class="success" data-toggle="modal" data-target="#update_return_order">
                                <i class="ft-edit font-medium-3 mr-2"></i>
                            </a>
                                <a class="warning" href="{% url 'rental:order_detail' %}">
                                    <i class="ft-truck font-medium-3 mr-2"></i>
                                </a>
                                <a href="" class="success" data-toggle="modal" data-target="#TimeLine">
                                    <i class="ft-bar-chart font-medium-3 mr-2"></i>
                                </a>
                            </td>
                        </tr>
                        
                        <!-- Row 61 -->
                        <tr>
                          <td class="text-nowrap"><a href="{% url 'rental:order_detail' %}">OR20240600028</a></td>
                          <td class="text-nowrap">DEL67898</td>
                                <td class="text-left">
                                  <span class="badge bg-light-info">Return Pick Up</span>
                                </td>
                          <td class="text-nowrap">Laura Walker</td>
                          <td class="text-nowrap">Michael Hall</td>
                          <td class="text-nowrap">02/01/2024</td>
                          <td class="text-nowrap">02/25/2024</td>
                          <td class="text-nowrap">02/10/2024</td>
                            <td class="text-nowrap">
                              <a href="" class="success" data-toggle="modal" data-target="#update_return_order">
                                <i class="ft-edit font-medium-3 mr-2"></i>
                            </a>
                                <a class="warning" href="{% url 'rental:order_detail' %}">
                                    <i class="ft-truck font-medium-3 mr-2"></i>
                                </a>
                                <a href="" class="success" data-toggle="modal" data-target="#TimeLine">
                                    <i class="ft-bar-chart font-medium-3 mr-2"></i>
                                </a>
                            </td>
                        </tr>
                        
                        <!-- Row 64 -->
                        <tr>
                          <td class="text-nowrap"><a href="{% url 'rental:order_detail' %}">OR20240600029</a></td>
                          <td class="text-nowrap">DEL67899</td>
                          <td class="text-left">
                            <span class="badge bg-light-primary">Inspection</span>
                          </td>
                          <td class="text-nowrap">Charles Allen</td>
                          <td class="text-nowrap">Karen Young</td>
                          <td class="text-nowrap">02/05/2024</td>
                          <td class="text-nowrap">03/01/2024</td>
                          <td class="text-nowrap">02/15/2024</td>
                            <td class="text-nowrap">
                              <a href="" class="success" data-toggle="modal" data-target="#update_return_order">
                                <i class="ft-edit font-medium-3 mr-2"></i>
                            </a>
                                <a class="warning" href="{% url 'rental:order_detail' %}">
                                    <i class="ft-truck font-medium-3 mr-2"></i>
                                </a>
                                <a href="" class="success" data-toggle="modal" data-target="#TimeLine">
                                    <i class="ft-bar-chart font-medium-3 mr-2"></i>
                                </a>
                            </td>
                        </tr>
                        
                        <!-- Row 65 -->
                        <tr>
                          <td class="text-nowrap"><a href="{% url 'rental:order_detail' %}">OR20240600030</a></td>
                          <td class="text-nowrap">DEL67900</td>
                          <td class="text-left">
                            <span class="badge bg-light-warning">Create Return Delivery</span>
                          </td>
                          <td class="text-nowrap">David Martinez</td>
                          <td class="text-nowrap">Sophie Lee</td>
                          <td class="text-nowrap">02/10/2024</td>
                          <td class="text-nowrap">02/25/2024</td>
                          <td class="text-nowrap">02/15/2024</td>
                            <td class="text-nowrap">
                              <a href="" class="success" data-toggle="modal" data-target="#update_return_order">
                                <i class="ft-edit font-medium-3 mr-2"></i>
                            </a>
                                <a class="warning" href="{% url 'rental:order_detail' %}">
                                    <i class="ft-truck font-medium-3 mr-2"></i>
                                </a>
                                <a href="" class="success" data-toggle="modal" data-target="#TimeLine">
                                    <i class="ft-bar-chart font-medium-3 mr-2"></i>
                                </a>
                            </td>
                        </tr>
                        
                        <!-- Row 68 -->
                        <tr>
                          <td class="text-nowrap"><a href="{% url 'rental:order_detail' %}">OR20240600031</a></td>
                          <td class="text-nowrap">DEL67901</td>
                          <td class="text-left">
                            <span class="badge bg-light-warning">Create Delivery</span>
                          </td>
                          <td class="text-nowrap">Emma White</td>
                          <td class="text-nowrap">Oliver Brown</td>
                          <td class="text-nowrap">02/12/2024</td>
                          <td class="text-nowrap">03/01/2024</td>
                          <td class="text-nowrap">02/20/2024</td>
                            <td class="text-nowrap">
                              <a href="" class="success" data-toggle="modal" data-target="#update_return_order">
                                <i class="ft-edit font-medium-3 mr-2"></i>
                            </a>
                                <a class="warning" href="{% url 'rental:order_detail' %}">
                                    <i class="ft-truck font-medium-3 mr-2"></i>
                                </a>
                                <a href="" class="success" data-toggle="modal" data-target="#TimeLine">
                                    <i class="ft-bar-chart font-medium-3 mr-2"></i>
                                </a>
                            </td>
                        </tr>
                        
                        <!-- Row 69 -->
                        <tr>
                          <td class="text-nowrap"><a href="{% url 'rental:order_detail' %}">OR20240600032</a></td>
                          <td class="text-nowrap">DEL67902</td>
                          <td class="text-left">
                            <span class="badge bg-light-warning">Create Delivery</span>
                          </td>
                          <td class="text-nowrap">Liam Johnson</td>
                          <td class="text-nowrap">Mia Robinson</td>
                          <td class="text-nowrap">02/15/2024</td>
                          <td class="text-nowrap">03/05/2024</td>
                          <td class="text-nowrap">02/25/2024</td>
                            <td class="text-nowrap">
                              <a href="" class="success" data-toggle="modal" data-target="#update_return_order">
                                <i class="ft-edit font-medium-3 mr-2"></i>
                            </a>
                                <a class="warning" href="{% url 'rental:order_detail' %}">
                                    <i class="ft-truck font-medium-3 mr-2"></i>
                                </a>
                                <a href="" class="success" data-toggle="modal" data-target="#TimeLine">
                                    <i class="ft-bar-chart font-medium-3 mr-2"></i>
                                </a>
                            </td>
                        </tr>
                        
                        <!-- Row 77 -->
                        <tr>
                          <td class="text-nowrap"><a href="{% url 'rental:order_detail' %}">OR20240600033</a></td>
                          <td class="text-nowrap">DEL67903</td>
                          <td class="text-left">
                            <span class="badge bg-light-warning">Create Return Delivery</span>
                          </td>
                          <td class="text-nowrap">Noah Taylor</td>
                          <td class="text-nowrap">Ava Clark</td>
                          <td class="text-nowrap">02/20/2024</td>
                          <td class="text-nowrap">03/10/2024</td>
                          <td class="text-nowrap">03/01/2024</td>
                            <td class="text-nowrap">
                              <a href="" class="success" data-toggle="modal" data-target="#update_return_order">
                                <i class="ft-edit font-medium-3 mr-2"></i>
                            </a>
                                <a class="warning" href="{% url 'rental:order_detail' %}">
                                    <i class="ft-truck font-medium-3 mr-2"></i>
                                </a>
                                <a href="" class="success" data-toggle="modal" data-target="#TimeLine">
                                    <i class="ft-bar-chart font-medium-3 mr-2"></i>
                                </a>
                            </td>
                        </tr>
                        
                        <!-- Row 86 -->
                        <tr>
                          <td class="text-nowrap"><a href="{% url 'rental:order_detail' %}">OR20240600034</a></td>
                          <td class="text-nowrap">DEL67904</td>
                          <td class="text-left">
                            <span class="badge bg-light-success">Delivered</span>
                          </td>
                          <td class="text-nowrap">Isabella Lewis</td>
                          <td class="text-nowrap">James Walker</td>
                          <td class="text-nowrap">02/25/2024</td>
                          <td class="text-nowrap">03/15/2024</td>
                          <td class="text-nowrap">03/05/2024</td>
                            <td class="text-nowrap">
                              <a href="" class="success" data-toggle="modal" data-target="#update_return_order">
                                <i class="ft-edit font-medium-3 mr-2"></i>
                            </a>
                                <a class="warning" href="{% url 'rental:order_detail' %}">
                                    <i class="ft-truck font-medium-3 mr-2"></i>
                                </a>
                                <a href="" class="success" data-toggle="modal" data-target="#TimeLine">
                                    <i class="ft-bar-chart font-medium-3 mr-2"></i>
                                </a>
                            </td>
                        </tr>
                        
                        <!-- Row 88 -->
                        <tr>
                          <td class="text-nowrap"><a href="{% url 'rental:order_detail' %}">OR20240600035</a></td>
                          <td class="text-nowrap">DEL67905</td>
                          <td class="text-left">
                            <span class="badge bg-light-warning">Create Delivery</span>
                          </td>
                          <td class="text-nowrap">Sophia Martinez</td>
                          <td class="text-nowrap">Ethan Harris</td>
                          <td class="text-nowrap">03/01/2024</td>
                          <td class="text-nowrap">03/20/2024</td>
                          <td class="text-nowrap">03/10/2024</td>
                            <td class="text-nowrap">
                              <a href="" class="success" data-toggle="modal" data-target="#update_return_order">
                                <i class="ft-edit font-medium-3 mr-2"></i>
                            </a>
                                <a class="warning" href="{% url 'rental:order_detail' %}">
                                    <i class="ft-truck font-medium-3 mr-2"></i>
                                </a>
                                <a href="" class="success" data-toggle="modal" data-target="#TimeLine">
                                    <i class="ft-bar-chart font-medium-3 mr-2"></i>
                                </a>
                            </td>
                        </tr>
                        
                        <!-- Row 90 -->
                        <tr>
                          <td class="text-nowrap"><a href="{% url 'rental:order_detail' %}">OR20240600036</a></td>
                          <td class="text-nowrap">DEL67906</td>
                          <td class="text-left">
                            <span class="badge bg-light-into">Return Pick Up</span>
                          </td>
                          <td class="text-nowrap">Jackson Lee</td>
                          <td class="text-nowrap">Olivia Young</td>
                          <td class="text-nowrap">03/05/2024</td>
                          <td class="text-nowrap">03/25/2024</td>
                          <td class="text-nowrap">03/15/2024</td>
                            <td class="text-nowrap">
                              <a href="" class="success" data-toggle="modal" data-target="#update_return_order">
                                <i class="ft-edit font-medium-3 mr-2"></i>
                            </a>
                                <a class="warning" href="{% url 'rental:order_detail' %}">
                                    <i class="ft-truck font-medium-3 mr-2"></i>
                                </a>
                                <a href="" class="success" data-toggle="modal" data-target="#TimeLine">
                                    <i class="ft-bar-chart font-medium-3 mr-2"></i>
                                </a>
                            </td>
                        </tr>
                        
                        <!-- Row 91 -->
                        <tr>
                          <td class="text-nowrap"><a href="{% url 'rental:order_detail' %}">OR20240600037</a></td>
                          <td class="text-nowrap">DEL67907</td>
                          <td class="text-left">
                            <span class="badge bg-light-success">Delivered</span>
                          </td>
                          <td class="text-nowrap">Charlotte Wilson</td>
                          <td class="text-nowrap">Liam Taylor</td>
                          <td class="text-nowrap">03/10/2024</td>
                          <td class="text-nowrap">03/30/2024</td>
                          <td class="text-nowrap">03/20/2024</td>
                            <td class="text-nowrap">
                              <a href="" class="success" data-toggle="modal" data-target="#update_return_order">
                                <i class="ft-edit font-medium-3 mr-2"></i>
                            </a>
                                <a class="warning" href="{% url 'rental:order_detail' %}">
                                    <i class="ft-truck font-medium-3 mr-2"></i>
                                </a>
                                <a href="" class="success" data-toggle="modal" data-target="#TimeLine">
                                    <i class="ft-bar-chart font-medium-3 mr-2"></i>
                                </a>
                            </td>
                        </tr>
                        
                        <!-- Row 96 -->
                        <tr>
                          <td class="text-nowrap"><a href="{% url 'rental:order_detail' %}">OR20240600038</a></td>
                          <td class="text-nowrap">DEL67908</td>
                          <td class="text-left">
                            <span class="badge bg-light-success">Delivered</span>
                          </td>
                          <td class="text-nowrap">Aiden Brown</td>
                          <td class="text-nowrap">Emma White</td>
                          <td class="text-nowrap">03/15/2024</td>
                          <td class="text-nowrap">04/05/2024</td>
                          <td class="text-nowrap">03/25/2024</td>
                            <td class="text-nowrap">
                              <a href="" class="success" data-toggle="modal" data-target="#update_return_order">
                                <i class="ft-edit font-medium-3 mr-2"></i>
                            </a>
                                <a class="warning" href="{% url 'rental:order_detail' %}">
                                    <i class="ft-truck font-medium-3 mr-2"></i>
                                </a>
                                <a href="" class="success" data-toggle="modal" data-target="#TimeLine">
                                    <i class="ft-bar-chart font-medium-3 mr-2"></i>
                                </a>
                            </td>
                        </tr>
            
                    </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>


          <div class="tab-pane" id="tab3" aria-labelledby="base-tab13">
            <div class="card">
              <div class="card-content">
                <div class="float-left ml-4">
                  <data class="row mb-2">
                    <h4>Recurring Order</h4>
                  </data>
                </div>
                <div class="card-body">
                  <div class="table-responsive">
                    <table class="table table-striped table-bordered" id="recurring-order" style="width:100%;">
                      <thead>
                        <tr>
                          <th>ORIGINAL ORDER ID</th>
                          <th>RECURRING ORDER ID</th>
                          <th>CUSTOMER</th>
                          <th>ORDER AMOUNT</th>
                          <th>PROJECT MANAGER</th>
                          <th>RECURRING TYPE</th>
                          <th>RECURRING START </th>
                          <th>RECURRING END</th>
                          <th>NUMBER OF ORDERS</th>
                          <th>ACTIONS</th>
                        </tr>
                      </thead>
                      <tbody>

                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- Wizard End For Order List -->


<!-- Update Return Order Start -->
<div class="modal fade text-left" id="update_return_order" tabindex="-1" role="dialog" aria-labelledby="myModalLabel33"
  aria-hidden="true" data-backdrop="false">
  <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="myModalLabel5">R-PROJ016968: Update Return Order</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true"><i class="ft-x font-medium-2 text-bold-700"></i></span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-6 mb-2">
            <label for="" class="form-label">Start Date</label>
            <input type="date" class="form-control" value="2024-02-12">
          </div>
          <div class="col-6 mb-2">
            <label for="" class="form-label">End Date</label>
            <input type="date" class="form-control" value="2024-10-29">
          </div>
          {% comment %} <div class="col-6 mb-2">
            <label for="" class="form-label">Customer</label>
            <input type="text" class="form-control" value="Aalberts" disabled>
          </div>
          <div class="col-6 mb-2">
            <label for="orderDate" class="form-label">Order Date</label>
            <input type="date" id="orderDate" class="form-control" value="2024-09-07" disabled>
          </div>
          <div class="col-6 mb-2">
            <label for="" class="form-label">Location</label>
            <input type="text" class="form-control" value="Utrecht" disabled>
          </div>
          <div class="col-6 mb-2">
            <label for="" class="form-label">No Of Product</label>
            <input type="text" class="form-control" value="5" disabled>
          </div>
          <div class="col-6 mb-2">
            <label for="" class="form-label">Amount</label>
            <input type="text" class="form-control" value="7550" disabled>
          </div> {% endcomment %}

        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal" aria-label="Close">Cancel</button>
        <button type="button" class="btn btn-success">Complete</button>
      </div>
    </div>
  </div>
</div>
<!-- Update Return Order End -->

<!-- Rental Stage Start -->
<div class="modal fade text-left" id="rental_stage" tabindex="-1" role="dialog" aria-labelledby="myModalLabel33"
  aria-hidden="true" data-backdrop="false">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="myModalLabel5">PROJ016968 : Rental Stage</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true"><i class="ft-x font-medium-2 text-bold-700"></i></span>
        </button>
      </div>
      <div class="modal-body">
        <table class="table table-striped">
          <thead>
            <tr>
              <th>IDs</th>
              <th>Stages</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>PROJ016968 1/2</td>
              <td><span class="badge bg-light-primary">Check Out</span></td>
            </tr>
            <tr>
              <td>PROJ016968 2/2</td>
              <td><span class="badge bg-light-warning">Pick UP</span></td>
            </tr>
          </tbody>


        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal" aria-label="Close">Close</button>
      </div>
    </div>
  </div>
</div>
<!-- Rental Stage End -->

<!-- Update Recurring Order -->
<div class="modal fade text-left" id="update_recurring_order" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel33" aria-hidden="true" data-backdrop="false">
  <div class="modal-dialog modal-lg modal-dialog-centered" role="document" id="update_recurring_order_body">

  </div>
</div>
<!-- Update Recurring Order -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script>


<script>
  document.addEventListener("DOMContentLoaded", function () {
    var urlParams = new URLSearchParams(window.location.search);
    var tab = urlParams.get("tab");

    // Default active tab set karna
    if (tab === "recurring_order") {
      $('#base-tab13').tab('show');
    } else if (tab === "return_order") {
      $('#base-tab12').tab('show');
    } else {
      $('#base-tab11').tab('show');
    }

    document.querySelectorAll('.nav-link').forEach(function (tab) {
      tab.addEventListener("click", function (event) {
        var tabId = event.target.getAttribute("aria-controls");
        var newUrl = new URL(window.location.href);

        if (tabId === "tab3") {
          newUrl.searchParams.set("tab", "recurring_order");
        } else if (tabId === "tab2") {
          newUrl.searchParams.set("tab", "return_order");
        } else {
          newUrl.searchParams.set("tab", "order");
        }

        window.history.pushState({}, "", newUrl);
      });
    });
  });
</script>
<script>

  targets = [1, 2, -3]
  table_id = "#order-list";
  url = "{% url 'rental:rent_process:order-list-ajax' %}";
  columns = [
    { data: 'order_id', name: 'order_id' },
    { data: 'delivery_id', name: 'delivery_id' },
    { data: 'status', name: 'status' },
    { data: 'customer', name: 'customer' },
    { data: 'order_amount', name: 'rent_amount' },
    { data: 'account_manager', name: 'account_manager' },
    { data: 'start_date', name: 'rental_start_date' },
    { data: 'end_date', name: 'rental_end_date' },
    { data: 'recurring_type', name: 'recurring_type' },
    { data: 'last_updated_date', name: 'updated_at' },
    { data: 'actions', name: 'actions', orderable: false, searchable: false }
  ];
</script>

<script src="{% static 'app/js/jquery.min.js' %}"></script>
<script src="{% static 'vendors/js/datatable/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'vendors/js/datatable/dataTables.bootstrap4.min.js' %}"></script>

<script>
  var table_task = initializeDataTable();

  function initializeDataTable() {
    return $('#recurring-order').DataTable({
      processing: true,
      columnDefs: [
        { orderable: false, targets: [-1, -2] },
      ],
      serverSide: true,
      destroy: true,
      ajax: {
        url: "{% url 'rental:rent_process:recurring-order-ajax' %}",
        type: 'GET',
      },
      columns: [
        { data: 'order_id', name: 'order__order_id' },
        { data: 'recurring_order_id', name: 'recurring_order_id' },
        { data: 'customer', name: 'order__customer__name' },
        { data: 'order_amount', name: 'order__rent_amount' },
        { data: 'account_manager', name: 'order__account_manager__name' },
        { data: 'recurring_type', name: 'order__recurring_type' },
        { data: 'repeat_start_date', name: 'order__repeat_start_date' },
        { data: 'repeat_end_date', name: 'order__repeat_end_date' },
        { data: 'number_of_orders', name: 'number_of_orders' },
        { data: 'actions', name: 'actions', orderable: false, searchable: false }
      ],

    });
  }
</script>


<!-- showing an proper message after storing in local and reload tha page  -->
<script>
  $(document).on('click', '.rent-process-delete-btn', function (e) {
    var id = $(this).data("id")
    var user_name = $(this).data("title")
    if (user_name == "None") {
      user_name = ""
    }
    var url = $(this).data("url")
    var delete_ele = $(this)

    Swal.fire({
      html: `Are you sure you want to delete <b>${user_name}</b>?`,
      icon: 'question',
      showCloseButton: true,
      showCancelButton: true,
      confirmButtonColor: "#7442DB",

    }).then((result) => {

      /* Read more about isConfirmed, isDenied below */
      if (result.isConfirmed) {
        $.ajax({
          type: "POST",
          url: url,
          data: {
            "id": id,
            "csrfmiddlewaretoken": '{{ csrf_token }}'
          },
          success: function (data) {
            if (data.code === "200") {
              localStorage.setItem('toastr_message', JSON.stringify({
                type: 'info',
                message: data.message,
                title: 'Deleted'
              }));

              window.location.reload();
            } else if (data.code === "404") {
              localStorage.setItem('toastr_message', JSON.stringify({
                type: 'error',
                message: data.message,
                title: 'Error'
              }));

              window.location.reload();
            }
          },
          error: function (xhr, status, error) {
            Swal.fire("Error", "Unable to process the request. Please try again.", "error");
          }
        });
      } else {
        Swal.fire("Cancel delete", "", "info");
      }
    })
  })
  document.addEventListener('DOMContentLoaded', function () {
    // Check if there's a toastr message in localStorage
    const toastrData = localStorage.getItem('toastr_message');

    if (toastrData) {
      const { type, message, title } = JSON.parse(toastrData);

      // Show toastr based on the type
      if (type === 'info') {
        toastr.info(message, title, {
          closeButton: true,
          progressBar: true,
          positionClass: 'toast-bottom-right',
          timeOut: 6000
        });
      } else if (type === 'error') {
        toastr.error(message, title, {
          closeButton: true,
          progressBar: true,
          positionClass: 'toast-bottom-right',
          timeOut: 6000
        });
      }

      // Clear the toastr message from localStorage
      localStorage.removeItem('toastr_message');
    }
  });
</script>

<!-- swap the form in to the model -->
<script>
  $(document).on('click', '.htmx-trigger-btn', function (e) {
    url = $(this).data("url")
    console.log('url: ', url);
    htmx.ajax('GET',
      url,
      {
        target: '#update_recurring_order_body',
        swap: 'innerHTML',
      }).then(() => {
        $('#update_recurring_order').toggleClass('hidden');
      })
  })
</script>